# YATAプロジェクト Todoistタスク管理ガイド

## いつTodoistを使用するか

### 使用判定フローチャート

```text
開発作業・依頼を受けた際の判定手順：

1. ユーザーが明示的にタスク管理を求めた？
   └─ YES → 即座にTodoist使用

2. 作業予想時間が2時間を超える？
   └─ NO → Claude Code内TodoWrite使用で完結
   └─ YES → 次の判定へ

3. 以下の条件を確認：
   □ 3つ以上のステップが必要
   □ 複数ファイル・機能への影響がある  
   □ 継続的フォローアップが必要
   □ 学習・調査フェーズを含む

   └─ 2つ以上該当 → Todoist使用
   └─ 1つ以下 → Claude Code内TodoWrite使用
```

### 具体的な使用場面

#### ✅ Todoist使用（必須）

- **新機能開発**: 設計→実装→テスト→ドキュメント→レビュー
- **大規模リファクタリング**: 調査→計画→段階実装→検証
- **品質改善プロジェクト**: 複数機能のコードレビューと改善
- **ドキュメント体系整備**: 複数ファイルの一貫性確保
- **アーキテクチャ改善**: 段階的移行作業

#### ✅ Todoist使用（推奨）

- **中規模バグ修正**: 影響範囲調査→修正→テスト→関連更新
- **新技術導入検討**: 調査→検証→実装→ドキュメント
- **パフォーマンス改善**: 分析→特定→最適化→効果測定

#### ❌ Todoist不使用

- **単発の質問・説明**: 技術相談、コードレビュー
- **軽微な修正**: タイポ修正、コメント追加（30分以内）
- **一度限りの調査**: 特定の技術仕様確認

---

## 基本理念

このワークフローは**状態の設定・遷移を基本理念**とした継続的改善型タスク管理システムです。各タスクは明確に定義された状態を持ち、決められたルールに従って状態を遷移させることで、効率的なタスク処理と学習サイクルを実現します。

---

## セクション構成（状態定義）

### 1. 📋 Backlog

**目的**: アイデア段階から実行可能タスクまでの準備段階

- 未整理のアイデア、要求、改善提案
- 細分化や詳細化が必要なタスク
- 将来実行予定のタスク

**遷移条件**:

- タスクとして完成 → Ready
- 実行不可能と判断 → アーカイブ

### 2. ✅ Ready

**目的**: 実行準備完了、すぐに着手可能な状態

- 細分化済み、明確な成果物が定義済み
- 依存関係が解決済み
- 必要なリソース・情報が揃っている

**遷移条件**:

- 実行開始 → InProgress
- 依存関係発生 → Blocked

### 3. 🔄 InProgress

**目的**: 現在実行中のタスク

- WIP制限: 同時実行は2-3個まで
- 定期的な進捗確認が必要

**遷移条件**:

- 実行完了 → Review
- 問題発生 → Blocked

### 4. 🔍 Review

**目的**: 実行結果の検証・評価

- 成果物の品質チェック
- 目標達成度の評価
- 学習ポイントの抽出

**遷移条件**:

- 評価完了・合格 → 完了チェック → Retrospective
- 再作業必要 → Ready または InProgress
- 根本的見直し必要 → Backlog

### 5. 🚫 Blocked

**目的**: 何らかの理由で進行不可能な状態

- 各タスクには必ずBlockedサブタイプラベルを設定
- 定期的な解除可能性チェックが必要

**遷移条件**:

- ブロック解除 → Ready または InProgress
- 実行不可能確定 → 後継タスクをBacklogに追加後アーカイブ

### 6. 🎯 Retrospective

**目的**: 完了タスクの振り返りと改善抽出

- 実行結果の振り返り
- プロセス改善点の特定
- 新たな改善タスクの生成

**遷移条件**:

- 振り返り完了 → アーカイブ
- 改善タスク生成 → 新タスクをBacklogに追加

---

## ラベル体系

### Blocked サブタイプ（必須：Blocked状態時）

- `Blocked-Dependency`: 他タスクの完了待ち
- `Blocked-External`: 外部要因による停止
- `Blocked-Resource`: リソース不足
- `Blocked-Decision`: 意思決定待ち

### 難易度分類（必須：全タスク）

- `Hard`: プロジェクトへの深い理解、多くの前提知識、深い思考が必要
- `Easy`: Hardに該当しない全てのタスク

### 作業環境（必要に応じて）

- `NoNeedsPC`: Webブラウザのみで完結可能（EasyまたはHardと併用可）

---

## 優先度設定ルール

### P1（最高優先度）

- 緊急かつ重要なタスク
- デッドラインが迫っているタスク
- ブロッカーとなっているタスク

### P2（高優先度）

- 重要だが緊急でないタスク
- 戦略的に重要なタスク
- 他タスクへの影響が大きいタスク

### P3（中優先度）

- 通常の業務タスク
- 改善・最適化タスク
- 学習・スキルアップ関連

### P4（低優先度）

- アイデア段階のタスク
- 長期的な目標関連
- Nice-to-haveなタスク

---

## タスク作成ルール

### 1. 細分化の原則

- 1つのタスクは1-4時間で完了可能なサイズに分割
- 「〜を検討する」ではなく「〜について調査し、結論をまとめる」のように具体的な成果物を定義
- 曖昧な表現は避け、完了条件を明確にする

### 2. タイトル・説明の書き方

**タイトル**: 簡潔な概要（25文字以内推奨、最大40文字）

```text
例: ユーザー認証API実装
```

**説明**: サブタスクとして詳細を記述(実際はMCP経由で適切にサブタスクを作成しなさい)

```markdown
- [ ] 認証ロジックの設計
- [ ] JWT トークン生成機能実装
- [ ] パスワードハッシュ化機能実装
- [ ] ユニットテスト作成
- [ ] API ドキュメント更新
```

### 3. アサイン設定

- 可能な場合は「penne」をタスクにアサイン
- 外部依存タスクは適切な担当者をアサイン（不明な場合は未設定）

---

## 実践チェックリスト

### タスク作成時

```text
新しいタスクを作成する際は以下を確認：
1. 適切なセクション（状態）に配置されているか
2. 細分化されて1-4時間で完了可能か
3. 優先度（P1-P4）が設定されているか
4. 難易度ラベル（Hard/Easy）が設定されているか
5. 必要に応じてNoNeedsPCラベルが設定されているか
6. タイトルは概要、詳細はサブタスクで記述されているか
7. penneがアサインされているか（可能な場合）
```

### 状態遷移時

```text
タスクの状態を変更する際は以下を確認：
1. 遷移条件を満たしているか
2. Blocked状態の場合、適切なサブタイプラベルが設定されているか
3. 必要なメタデータ（実行時間、学習ポイント等）が記録されているか
4. 次のアクションが明確になっているか
```

### 定期メンテナンス

```text
定期的に以下をチェック：
1. WIP制限が守られているか（InProgress 2-3個以内）
2. 長期間Blockedされているタスクはないか
3. Retrospectiveに蓄積されすぎているタスクはないか
4. 優先度設定が現在の状況に適合しているか
```
